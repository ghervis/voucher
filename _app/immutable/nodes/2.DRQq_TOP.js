import"../chunks/NZTpNUN0.js";import"../chunks/dBp6wrf2.js";import{s as Ke,j as R,K as Pr,V as Gr,k as zr,i as Rr,g as e,aj as ot,l as jr,m as qr,n as Dt,o as Qe,v as ge,X as $r,$ as Ur,p as qt,q as $t,t as Jr,a2 as Ut,T as Jt,at as w,ay as Ft,az as Xe,O as Ot,aA as Yr,aB as Kr,aC as Qr,L as Xr,aD as Wr,aE as Zr,aF as eo,aG as to,Y as ro,w as oo,Q as ao,aH as so,aI as no,aJ as io,aK as lo,aL as co,aM as uo,aN as vo,aO as fo,b as D,x as ho,z as po,aP as be,aQ as mo,A as V,C as Q,G as d,J as h,D as C,F as go,al as c,I as l,aR as We,aS as bo,aT as xe,ax as _o,B as Bt,aU as Me,av as xo,aV as wo}from"../chunks/UodMxfyu.js";import{l as Yt,a as yo,o as Co,e as E,r as ko,s as U,b as Eo}from"../chunks/CQyUmOvY.js";import{b as No}from"../chunks/PbVHrz5t.js";import{i as S,b as Ze}from"../chunks/DFLAJfO8.js";import{i as Mo}from"../chunks/CwuYyTAu.js";function Ao(r,o){return o}function So(r,o,a,n){for(var i=[],u=o.length,v=0;v<u;v++)Qr(o[v].e,i,!0);var m=u>0&&i.length===0&&a!==null;if(m){var k=a.parentNode;Xr(k),k.append(a),n.clear(),ne(r,o[0].prev,o[u-1].next)}Wr(i,()=>{for(var N=0;N<u;N++){var p=o[N];m||(n.delete(p.k),ne(r,p.prev,p.next)),Zr(p.e,!m)}})}function Vo(r,o,a,n,i,u=null){var v=r,m={flags:o,items:new Map,first:null};{var k=r;v=R?Ke(Pr(k)):k.appendChild(Gr())}R&&zr();var N=null,p=!1,T=ot(()=>{var f=a();return Jt(f)?f:f==null?[]:Ut(f)});Rr(()=>{var f=e(T),x=f.length;if(p&&x===0)return;p=x===0;let b=!1;if(R){var j=jr(v)===qr;j!==(x===0)&&(v=Dt(),Ke(v),Qe(!1),b=!0)}if(R){for(var F=null,_,A=0;A<x;A++){if(ge.nodeType===$r&&ge.data===Ur){v=ge,b=!0,Qe(!1);break}var J=f[A],q=n(J,A);_=Kt(ge,m,F,null,J,q,A,i,o,a),m.items.set(q,_),F=_}x>0&&Ke(Dt())}R||To(f,m,v,i,o,n,a),u!==null&&(x===0?N?qt(N):N=$t(()=>u(v)):N!==null&&Jr(N,()=>{N=null})),b&&Qe(!0),e(T)}),R&&(v=ge)}function To(r,o,a,n,i,u,v){var m=r.length,k=o.items,N=o.first,p=N,T,f=null,x=[],b=[],j,F,_,A;for(A=0;A<m;A+=1){if(j=r[A],F=u(j,A),_=k.get(F),_===void 0){var J=p?p.e.nodes_start:a;f=Kt(J,o,f,f===null?o.first:f.next,j,F,A,n,i,v),k.set(F,f),x=[],b=[],p=f.next;continue}if(Lo(_,j,A),(_.e.f&Xe)!==0&&qt(_.e),_!==p){if(T!==void 0&&T.has(_)){if(x.length<b.length){var q=b[0],O;f=q.prev;var L=x[0],G=x[x.length-1];for(O=0;O<x.length;O+=1)Pt(x[O],q,a);for(O=0;O<b.length;O+=1)T.delete(b[O]);ne(o,L.prev,G.next),ne(o,f,L),ne(o,G,q),p=q,f=G,A-=1,x=[],b=[]}else T.delete(_),Pt(_,p,a),ne(o,_.prev,_.next),ne(o,_,f===null?o.first:f.next),ne(o,f,_),f=_;continue}for(x=[],b=[];p!==null&&p.k!==F;)(p.e.f&Xe)===0&&(T??=new Set).add(p),b.push(p),p=p.next;if(p===null)continue;_=p}x.push(_),f=_,p=_.next}if(p!==null||T!==void 0){for(var ae=T===void 0?[]:Ut(T);p!==null;)(p.e.f&Xe)===0&&ae.push(p),p=p.next;var ie=ae.length;if(ie>0){var re=m===0?a:null;So(o,ae,re,k)}}Ot.first=o.first&&o.first.e,Ot.last=f&&f.e}function Lo(r,o,a,n){Kr(r.v,o),r.i=a}function Kt(r,o,a,n,i,u,v,m,k,N){var p=(k&eo)!==0,T=(k&to)===0,f=p?T?w(i,!1,!1):Ft(i):i,x=(k&Yr)===0?v:Ft(v),b={i:x,v:f,k:u,a:null,e:null,prev:a,next:n};try{return b.e=$t(()=>m(r,f,x,N),R),b.e.prev=a&&a.e,b.e.next=n&&n.e,a===null?o.first=b:(a.next=b,a.e.next=b.e),n!==null&&(n.prev=b,n.e.prev=b.e),b}finally{}}function Pt(r,o,a){for(var n=r.next?r.next.e.nodes_start:a,i=o?o.e.nodes_start:a,u=r.e.nodes_start;u!==n;){var v=ro(u);i.before(u),u=v}}function ne(r,o,a){o===null?r.first=a:(o.next=a,o.e.next=a&&a.e),a!==null&&(a.prev=o,a.e.prev=o&&o.e)}const Gt=[...` 	
\r\fÂ \v\uFEFF`];function Io(r,o,a){var n=r==null?"":""+r;if(o&&(n=n?n+" "+o:o),a){for(var i in a)if(a[i])n=n?n+" "+i:i;else if(n.length)for(var u=i.length,v=0;(v=n.indexOf(i,v))>=0;){var m=v+u;(v===0||Gt.includes(n[v-1]))&&(m===n.length||Gt.includes(n[m]))?n=(v===0?"":n.substring(0,v))+n.substring(m+1):v=m}}return n===""?null:n}function Ho(r,o){return r==null?null:String(r)}function et(r,o,a,n,i,u){var v=r.__className;if(R||v!==a||v===void 0){var m=Io(a,n,u);(!R||m!==r.getAttribute("class"))&&(m==null?r.removeAttribute("class"):r.className=m),r.__className=a}else if(u&&i!==u)for(var k in u){var N=!!u[k];(i==null||N!==!!i[k])&&r.classList.toggle(k,N)}return u}function zt(r,o,a,n){var i=r.__style;if(R||i!==o){var u=Ho(o);(!R||u!==r.getAttribute("style"))&&(u==null?r.removeAttribute("style"):r.style.cssText=u),r.__style=o}return n}function Qt(r,o,a=!1){if(r.multiple){if(o==null)return;if(!Jt(o))return so();for(var n of r.options)n.selected=o.includes(_e(n));return}for(n of r.options){var i=_e(n);if(no(i,o)){n.selected=!0;return}}(!a||o!==void 0)&&(r.selectedIndex=-1)}function Do(r){var o=new MutationObserver(()=>{Qt(r,r.__value)});o.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ao(()=>{o.disconnect()})}function Fo(r,o,a=o){var n=!0;Yt(r,"change",i=>{var u=i?"[selected]":":checked",v;if(r.multiple)v=[].map.call(r.querySelectorAll(u),_e);else{var m=r.querySelector(u)??r.querySelector("option:not([disabled])");v=m&&_e(m)}a(v)}),oo(()=>{var i=o();if(Qt(r,i,n),n&&i===void 0){var u=r.querySelector(":checked");u!==null&&(i=_e(u),a(i))}r.__value=i,n=!1}),Do(r)}function _e(r){return"__value"in r?r.__value:r.value}const Oo=Symbol("is custom element"),Bo=Symbol("is html");function Po(r){if(R){var o=!1,a=()=>{if(!o){if(o=!0,r.hasAttribute("value")){var n=r.value;Ae(r,"value",null),r.value=n}if(r.hasAttribute("checked")){var i=r.checked;Ae(r,"checked",null),r.checked=i}}};r.__on_r=a,io(a),yo()}}function Ae(r,o,a,n){var i=Go(r);R&&(i[o]=r.getAttribute(o),o==="src"||o==="srcset"||o==="href"&&r.nodeName==="LINK")||i[o]!==(i[o]=a)&&(o==="loading"&&(r[lo]=a),a==null?r.removeAttribute(o):typeof a!="string"&&zo(r).includes(o)?r[o]=a:r.setAttribute(o,a))}function Go(r){return r.__attributes??={[Oo]:r.nodeName.includes("-"),[Bo]:r.namespaceURI===co}}var Rt=new Map;function zo(r){var o=Rt.get(r.nodeName);if(o)return o;Rt.set(r.nodeName,o=[]);for(var a,n=r,i=Element.prototype;i!==n;){a=vo(n);for(var u in a)a[u].set&&o.push(u);n=uo(n)}return o}function jt(r,o,a=o){var n=fo();Yt(r,"input",i=>{var u=i?r.defaultValue:r.value;if(u=tt(r)?rt(u):u,a(u),n&&u!==(u=o())){var v=r.selectionStart,m=r.selectionEnd;r.value=u??"",m!==null&&(r.selectionStart=v,r.selectionEnd=Math.min(m,r.value.length))}}),(R&&r.defaultValue!==r.value||D(o)==null&&r.value)&&a(tt(r)?rt(r.value):r.value),ho(()=>{var i=o();tt(r)&&i===rt(r.value)||r.type==="date"&&!i&&!r.value||i!==r.value&&(r.value=i??"")})}function tt(r){var o=r.type;return o==="number"||o==="range"}function rt(r){return r===""?null:+r}function Ro(r){return function(...o){var a=o[0];return a.preventDefault(),r?.apply(this,o)}}var jo=V('<div class="text-gray-700"> </div>'),qo=xe('<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path></svg>'),$o=xe('<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>'),Uo=V('<div class="text-green-700 font-semibold flex items-center"><span> </span> <button class="p-1 hover:bg-gray-100 rounded transition-colors"><!></button></div>'),Jo=xe('<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path></svg>'),Yo=xe('<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>'),Ko=V('<div class="text-pink-700 font-semibold flex items-center"><span> </span> <button class="p-1 hover:bg-gray-100 rounded transition-colors"><!></button></div>'),Qo=V('<div class="text-gray-500"> </div>'),Xo=V('<div class="text-sm sm:text-base font-medium space-y-1"><!> <!> <!> <!></div>'),Wo=V('<div class="absolute inset-0 transition-all duration-50"></div>'),Zo=xe('<svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),ea=V('<div class="absolute top-full mt-1 right-0 text-xs text-gray-600 whitespace-nowrap">Hold to hard refresh</div>'),ta=V('<div class="fixed top-20 right-4 bg-green-600 text-white px-4 py-3 rounded-lg shadow-lg z-20 flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <span class="text-sm font-medium"> </span></div>'),ra=V('<div class="bg-red-50 border border-red-200 rounded-lg p-4 sm:p-6 mb-6 sm:mb-8 mx-2 sm:mx-0"><h3 class="text-red-800 font-semibold mb-2 text-sm sm:text-base">Error Loading Data</h3> <p class="text-red-600 mb-4 text-sm"> </p> <button class="w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm">Try Again</button></div>'),oa=V('<div class="absolute top-0 right-0 flex gap-2"><button class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm shadow-sm" title="Edit voucher">Edit</button> <button class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-sm shadow-sm" title="Delete voucher">Delete</button></div>'),aa=V('<div class="absolute top-0 right-0 flex gap-2"><button class="px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors text-sm shadow-sm" title="Hide voucher">Hide</button></div>'),sa=V('<div class="mt-3 relative"><button> </button> <!></div>'),na=V('<div><div class="mb-3"><button title="Click to copy voucher code" aria-label="Copy voucher code"><span class="flex-1 text-left"> </span> <div class="flex items-center gap-2 ml-2 flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg></div></button></div> <!></div>'),ia=V('<div class="space-y-3 sm:space-y-4 mb-6 sm:mb-8"></div>'),la=V('<div class="text-center py-8 bg-gray-50 rounded-lg border border-gray-200"><p class="text-gray-500 mb-2">No vouchers available</p> <p class="text-sm text-gray-400">Add a custom voucher or refresh to fetch GrabFood vouchers</p></div>'),da=V('<div class="text-center py-8"><div class="inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"></div> <p class="text-gray-600 mt-2 text-sm">Fetching more vouchers...</p></div>'),ca=V("<!> <!>",1),ua=V(`<div class="h-screen flex flex-col bg-cover bg-center bg-no-repeat"><div class="sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm"><div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4"><div class="flex flex-row items-start justify-between gap-4"><div class="flex-1"><!></div> <div class="flex flex-col gap-2 items-end flex-shrink-0"><button class="px-4 sm:px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium text-xs sm:text-sm whitespace-nowrap">Add Custom Voucher</button> <div class="flex flex-col gap-2 items-end"><div class="relative"><button class="px-4 sm:px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-xs sm:text-sm whitespace-nowrap relative overflow-hidden" title="Click to refresh vouchers, hold for 4 seconds for hard refresh"><!> <div class="flex items-center justify-center relative z-10"><!></div></button> <!></div></div> <svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div></div></div></div> <div class="flex-1 overflow-y-auto"><div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8"><!> <!> <!></div></div> <dialog class="p-0 rounded-lg shadow-xl max-w-md" style="margin: 1rem auto; width: calc(100% - 2rem);"><div class="p-6"><div class="flex justify-between items-center mb-4"><h3 class="text-lg font-semibold text-purple-800"> </h3> <button class="text-gray-400 hover:text-gray-600 transition-colors" aria-label="Close modal"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="mb-4 p-2 bg-blue-50 border border-blue-200 rounded-lg"><div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-blue-600 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-xs text-blue-700">Only you can see this addition.</p></div></div> <form class="space-y-4"><div><label for="modal-voucher-code" class="block text-sm font-medium text-gray-700 mb-1">Voucher Code *</label> <input id="modal-voucher-code" type="text" placeholder="Enter voucher code" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"/></div> <div><label for="modal-voucher-merchant" class="block text-sm font-medium text-gray-700 mb-1">Merchant *</label> <select id="modal-voucher-merchant" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"><option>GrabFood</option><option>Foodpanda</option></select></div> <div><label for="modal-voucher-description" class="block text-sm font-medium text-gray-700 mb-1">Description</label> <textarea id="modal-voucher-description" placeholder="Enter description (optional)" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"></textarea></div> <div class="flex gap-2 pt-4"><button type="submit" class="flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium text-sm"> </button> <button type="button" class="px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium text-sm">Cancel</button></div></form></div></dialog> <dialog class="p-0 rounded-lg shadow-xl max-w-sm" style="margin: 1rem auto; width: calc(100% - 2rem);"><div class="p-6"><div class="flex items-center gap-3 mb-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.502 0L4.312 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div> <div class="flex-1"><h3 class="text-lg font-semibold text-gray-900">Delete Voucher</h3> <p class="text-sm text-gray-600 mt-1"> </p></div></div> <div class="flex gap-3 justify-end"><button type="button" class="px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium text-sm">Cancel</button> <button type="button" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium text-sm">Delete</button></div></div></dialog> <dialog class="p-0 rounded-lg shadow-xl max-w-sm" style="margin: 1rem auto; width: calc(100% - 2rem);"><div class="p-6"><div class="flex items-center gap-3 mb-4"><div class="flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L12 12"></path></svg></div> <div class="flex-1"><h3 class="text-lg font-semibold text-gray-900">Hide Voucher</h3> <p class="text-sm text-gray-600 mt-1"> </p></div></div> <div class="flex gap-3 justify-end"><button type="button" class="px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium text-sm">Cancel</button> <button type="button" class="px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium text-sm">Hide</button></div></div></dialog> <style>dialog::backdrop {
      background-color: rgba(0, 0, 0, 0.3);
    }

    .line-clamp-1 {
      display: -webkit-box;
      -webkit-line-clamp: 1;
      line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }</style></div>`);function va(r,o){po(o,!1);const a=w(),n=w(),i=w(),u=w(),v=w();let m=w(!0),k=w(null),N=w([]),p=w(null),T=null,f=w([]),x=w(null),b=w(""),j=w(""),F=w("GrabFood"),_=w(),A=w(),J=w(null),q=w(),O=w(null),L=w([]),G=w(new Set),ae=null,ie=w(!1),re=w(0),ce=null,Se=w(!1),we=w(!1),y=w({});const at="voucher-category-visibility",st="grabfood-custom-vouchers";function Xt(){try{const t=localStorage.getItem(st);t&&c(f,JSON.parse(t))}catch(t){console.error("Error loading custom vouchers:",t)}}function Ve(){try{localStorage.setItem(st,JSON.stringify(e(f)))}catch(t){console.error("Error saving custom vouchers:",t)}}function Wt(){try{const t=localStorage.getItem("hidden-vouchers");c(L,t?JSON.parse(t):[])}catch(t){console.error("Error loading hidden vouchers:",t),c(L,[])}}function Zt(t){e(L).includes(t)||(c(L,[...e(L),t]),localStorage.setItem("hidden-vouchers",JSON.stringify(e(L))))}function er(){if(!e(b).trim())return;const t={id:Date.now().toString(),code:e(b).trim(),description:e(j).trim()||"Custom voucher",merchantName:e(F)};c(f,[t,...e(f)]),Ve(),Te(),e(_).close()}function tr(){!e(x)||!e(b).trim()||(c(f,e(f).map(t=>t.id===e(x).id?{...t,code:e(b).trim(),description:e(j).trim()||"Custom voucher",merchantName:e(F)}:t)),Ve(),Te(),e(_).close())}function rr(t){c(f,e(f).filter(g=>g.id!==t)),Ve()}function or(t){c(J,t),e(A).showModal()}function ar(){e(J)&&(rr(e(J).id),c(J,null)),e(A).close()}function sr(){c(J,null),e(A).close()}function nr(t){c(O,t),e(q).showModal()}function ir(){e(O)&&(Zt(e(O).voucherCode),c(O,null)),e(q).close()}function lr(){c(O,null),e(q).close()}function dr(t){c(x,t),c(b,t.code),c(j,t.description),c(F,t.merchantName||"GrabFood"),e(_).showModal()}function Te(){c(x,null),c(b,""),c(j,""),c(F,"GrabFood")}function cr(){try{const t=localStorage.getItem(at);t&&c(y,JSON.parse(t))}catch(t){console.error("Error loading category visibility:",t),c(y,{})}}function ur(){try{localStorage.setItem(at,JSON.stringify(e(y)))}catch(t){console.error("Error saving category visibility:",t)}}function nt(t){if(t==="grabfood"||t==="foodpanda")if(e(y)[t])Me(y,e(y)[t]=!1);else{Me(y,e(y)[t]=!0);const g=t==="grabfood"?"foodpanda":"grabfood";Me(y,e(y)[g]=!1)}else Me(y,e(y)[t]=!e(y)[t]);ur()}function it(){e(m)||(c(ie,!0),c(re,0),c(Se,!0),c(we,!1),setTimeout(()=>{e(ie)&&c(we,!0)},1e3),ce=setInterval(()=>{c(re,e(re)+20/4e3*100),e(re)>=100&&(c(re,100),clearInterval(ce),ce=null)},20),ae=setTimeout(()=>{ve(),ye(!0)},4e3))}function ve(){ae&&(clearTimeout(ae),ae=null),ce&&(clearInterval(ce),ce=null),c(ie,!1),c(re,0),c(Se,!1),c(we,!1)}function vr(){e(ie)||ye(!1)}async function ye(t=!1){try{c(m,!0),c(k,null),t&&(c(L,[]),localStorage.removeItem("hidden-vouchers"));const g=["https://iprice.ph/?s=grabfood","https://iprice.ph/?s=foodpanda"],z="https://corsproxy.io/?",Y=[];for(const K of g){console.log(`Fetching from: ${K}${t?" (hard refresh)":""}`);const fe=z+encodeURIComponent(K),se={};t&&(se.cache="no-cache",se.headers={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"});const B=await fetch(fe+(t?`&_t=${Date.now()}`:""),se);if(!B.ok){console.error(`HTTP error for ${K}! status: ${B.status}`);continue}const W=await B.text();new DOMParser().parseFromString(W,"text/html").querySelectorAll("[data-clipboard-text]").forEach((I,le)=>{const P=I.getAttribute("data-clipboard-text")||"";if(P){const Z=`voucher-${K.includes("grabfood")?"grabfood":"foodpanda"}-${le}`,ee=I.closest("article, .voucher, .coupon, .deal")||I.parentElement,H=(ee?.querySelector('h1, h2, h3, h4, .title, [class*="title"], .heading, [class*="heading"]')||I)?.textContent?.trim()||"No title found",Je=ee?.querySelector('h2 a, h2 > a, h2.flowhidden.mb10.mt0.fontnormal.position-relative a, h2[class*="flowhidden"] a, h2[class*="mb10"] a, p, .description, [class*="description"], .content, [class*="content"]')?.textContent?.trim()||"No description found",Ye=K.includes("grabfood")?"GrabFood":"FoodPanda";Y.push({id:Z,dataType:"code",title:H,content:Je,couponCode:P,merchantName:Ye})}})}c(N,Y),console.log("Found vouchers with data-clipboard-text:",Y.length),console.log("Extracted vouchers:",Y),c(m,!1)}catch(g){c(k,g instanceof Error?g.message:"An unknown error occurred"),console.error("Error fetching vouchers:",g)}finally{c(m,!1)}}Co(()=>{ye(),Xt(),Wt(),cr()});function fr(t){navigator.clipboard.writeText(t).then(()=>{T&&clearTimeout(T),c(p,t),T=setTimeout(()=>{c(p,null),T=null},2e3)})}be(()=>(e(N),e(L)),()=>{c(a,e(N).filter(t=>!e(L).includes(t.couponCode||"")))}),be(()=>(e(f),e(y),e(a)),()=>{c(n,[...e(f).filter(t=>t.merchantName?.toLowerCase().includes("grabfood")?!e(y).grabfood:t.merchantName?.toLowerCase().includes("foodpanda")?!e(y).foodpanda:!0).map(t=>({...t,isCustom:!0,voucherCode:t.code,description:t.description})),...e(a).filter(t=>t.merchantName?.toLowerCase().includes("grabfood")?!e(y).grabfood:t.merchantName?.toLowerCase().includes("foodpanda")?!e(y).foodpanda:!0).map(t=>({...t,isCustom:!1,voucherCode:t.couponCode,description:t.content}))])}),be(()=>e(f),()=>{c(i,e(f).filter(t=>t.code&&t.code.trim()!=="").length)}),be(()=>e(a),()=>{c(u,e(a).filter(t=>t.couponCode&&t.couponCode.trim()!==""&&t.merchantName?.toLowerCase().includes("grabfood")).length)}),be(()=>e(a),()=>{c(v,e(a).filter(t=>t.couponCode&&t.couponCode.trim()!==""&&t.merchantName?.toLowerCase().includes("foodpanda")).length)}),mo(),Mo();var Ce=ua(),Le=d(Ce),lt=d(Le),dt=d(lt),Ie=d(dt),hr=d(Ie);{var pr=t=>{var g=Xo(),z=d(g);{var Y=s=>{var M=jo(),I=d(M);l(M),Q(()=>U(I,`${e(i)??""} Custom`)),C(s,M)};S(z,s=>{e(i)>0&&s(Y)})}var K=h(z,2);{var fe=s=>{var M=Uo(),I=d(M),le=d(I);l(I);var P=h(I,2),Z=d(P);{var ee=H=>{var te=qo();C(H,te)},oe=H=>{var te=$o();C(H,te)};S(Z,H=>{e(y),D(()=>e(y).grabfood)?H(ee):H(oe,!1)})}l(P),l(M),Q(()=>{U(le,`${e(u)??""} GrabFood`),Ae(P,"title",(e(y),D(()=>e(y).grabfood?"Show GrabFood vouchers":"Hide GrabFood vouchers")))}),E("click",P,()=>nt("grabfood")),C(s,M)};S(K,s=>{e(u)>0&&s(fe)})}var se=h(K,2);{var B=s=>{var M=Ko(),I=d(M),le=d(I);l(I);var P=h(I,2),Z=d(P);{var ee=H=>{var te=Jo();C(H,te)},oe=H=>{var te=Yo();C(H,te)};S(Z,H=>{e(y),D(()=>e(y).foodpanda)?H(ee):H(oe,!1)})}l(P),l(M),Q(()=>{U(le,`${e(v)??""} FoodPanda`),Ae(P,"title",(e(y),D(()=>e(y).foodpanda?"Show FoodPanda vouchers":"Hide FoodPanda vouchers")))}),E("click",P,()=>nt("foodpanda")),C(s,M)};S(se,s=>{e(v)>0&&s(B)})}var W=h(se,2);{var ue=s=>{var M=Qo(),I=d(M);l(M),Q(()=>U(I,`${e(L),D(()=>e(L).length)??""} Hidden`)),C(s,M)};S(W,s=>{e(L),D(()=>e(L).length>0)&&s(ue)})}l(g),C(t,g)};S(hr,t=>{e(i),e(u),e(v),e(L),D(()=>e(i)>0||e(u)>0||e(v)>0||e(L).length>0)&&t(pr)})}l(Ie);var ct=h(Ie,2),ut=d(ct),vt=h(ut,2),ft=d(vt),X=d(ft),ht=d(X);{var mr=t=>{var g=Wo();Q(()=>zt(g,`width: ${e(re)??""}%; background-color: #ff4500;`)),C(t,g)};S(ht,t=>{e(ie)&&t(mr)})}var pt=h(ht,2),gr=d(pt);{var br=t=>{var g=Zo();C(t,g)},_r=t=>{var g=_o();Q(()=>U(g,e(we)?"Hard Refresh":"Refresh")),C(t,g)};S(gr,t=>{e(m)?t(br):t(_r,!1)})}l(pt),l(X);var xr=h(X,2);{var wr=t=>{var g=ea();C(t,g)};S(xr,t=>{e(Se)&&t(wr)})}l(ft),l(vt),We(2),l(ct),l(dt),l(lt),l(Le);var He=h(Le,2),mt=d(He),gt=d(mt);{var yr=t=>{var g=ta(),z=h(d(g),2),Y=d(z);l(z),l(g),Q(()=>U(Y,`Copied "${e(p)??""}"!`)),C(t,g)};S(gt,t=>{e(p)&&t(yr)})}var bt=h(gt,2);{var Cr=t=>{var g=ra(),z=h(d(g),2),Y=d(z,!0);l(z);var K=h(z,2);l(g),Q(()=>U(Y,e(k))),E("click",K,()=>ye(!1)),C(t,g)};S(bt,t=>{e(k)&&t(Cr)})}var kr=h(bt,2);{var Er=t=>{var g=ca(),z=Bt(g);{var Y=B=>{var W=ia();Vo(W,5,()=>e(n),Ao,(ue,s)=>{var M=xo(),I=Bt(M);{var le=P=>{var Z=na(),ee=d(Z),oe=d(ee),H=d(oe),te=d(H,!0);l(H),We(2),l(oe),l(ee);var Je=h(ee,2);{var Ye=he=>{var pe=sa(),me=d(pe);let Ht;var Hr=d(me,!0);l(me);var Dr=h(me,2);{var Fr=$=>{var de=oa(),Ne=d(de),Br=h(Ne,2);l(de),E("click",Ne,()=>dr({id:e(s).id,code:e(s).voucherCode||"",description:e(s).description||""})),E("click",Br,()=>or({id:e(s).id,code:e(s).voucherCode||"",description:e(s).description||""})),C($,de)},Or=$=>{var de=aa(),Ne=d(de);l(de),E("click",Ne,()=>nr({id:e(s).id,voucherCode:e(s).voucherCode||""})),C($,de)};S(Dr,$=>{e(s),D(()=>e(s).isCustom)?$(Fr):$(Or,!1)})}l(pe),Q($=>{Ht=et(me,1,"text-left w-full text-gray-600 text-sm leading-relaxed pr-20 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded",null,Ht,$),U(Hr,(e(s),D(()=>e(s).description||"No description available")))},[()=>({"line-clamp-1":!e(G).has(e(s).id||e(s).voucherCode),"sm:line-clamp-2":!e(G).has(e(s).id||e(s).voucherCode),"overflow-hidden":!e(G).has(e(s).id||e(s).voucherCode),"text-ellipsis":!e(G).has(e(s).id||e(s).voucherCode),"break-words":!e(G).has(e(s).id||e(s).voucherCode)})],ot),E("click",me,()=>{const $=e(s).id||e(s).voucherCode;$&&(e(G).has($)?e(G).delete($):e(G).add($),c(G,e(G)))}),C(he,pe)};S(Je,he=>{e(s),D(()=>e(s).description)&&he(Ye)})}l(Z),Q((he,pe)=>{et(Z,1,`p-3 sm:p-4 rounded-lg border shadow-lg ${he??""}`),et(oe,1,`w-full text-base sm:text-lg font-bold font-mono bg-white/95 px-3 py-2 rounded border border-white/60 break-all flex items-center justify-between hover:bg-white transition-all cursor-pointer shadow-sm ${pe??""}`),U(te,(e(s),D(()=>e(s).voucherCode)))},[()=>(e(s),D(()=>"merchantName"in e(s)&&e(s).merchantName?.toLowerCase().includes("grabfood")||"merchantName"in e(s)&&e(s).merchantName?.toLowerCase().includes("grab")?"bg-green-100/95 border-green-300/100":"merchantName"in e(s)&&e(s).merchantName?.toLowerCase().includes("foodpanda")?"bg-pink-100/95 border-pink-300/100":"bg-gray-200/95 border-gray-400/100")),()=>(e(s),D(()=>"merchantName"in e(s)&&e(s).merchantName?.toLowerCase().includes("grabfood")||"merchantName"in e(s)&&e(s).merchantName?.toLowerCase().includes("grab")?"text-green-700":"merchantName"in e(s)&&e(s).merchantName?.toLowerCase().includes("foodpanda")?"text-pink-700":"text-gray-700"))],ot),E("click",oe,()=>fr(e(s).voucherCode||"")),C(P,Z)};S(I,P=>{e(s),D(()=>e(s).voucherCode)&&P(le)})}C(ue,M)}),l(W),C(B,W)},K=(B,W)=>{{var ue=s=>{var M=la();C(s,M)};S(B,s=>{e(m)||s(ue)},W)}};S(z,B=>{e(n),D(()=>e(n).length>0)?B(Y):B(K,!1)})}var fe=h(z,2);{var se=B=>{var W=da();C(B,W)};S(fe,B=>{e(m)&&B(se)})}C(t,g)};S(kr,t=>{e(k)||t(Er)})}l(mt),l(He);var ke=h(He,2),_t=d(ke),De=d(_t),Fe=d(De),Nr=d(Fe);l(Fe);var Mr=h(Fe,2);l(De);var Oe=h(De,4),Be=d(Oe),xt=h(d(Be),2);Po(xt),l(Be);var Pe=h(Be,2),Ge=h(d(Pe),2);Q(()=>{e(F),bo(()=>{})});var ze=d(Ge);ze.value=ze.__value="GrabFood";var wt=h(ze);wt.value=wt.__value="Foodpanda",l(Ge),l(Pe);var Re=h(Pe,2),yt=h(d(Re),2);ko(yt),l(Re);var Ct=h(Re,2),je=d(Ct),Ar=d(je);l(je);var Sr=h(je,2);l(Ct),l(Oe),l(_t),l(ke),Ze(ke,t=>c(_,t),()=>e(_));var Ee=h(ke,2),kt=d(Ee),qe=d(kt),Et=h(d(qe),2),Nt=h(d(Et),2),Vr=d(Nt);l(Nt),l(Et),l(qe);var Mt=h(qe,2),At=d(Mt),Tr=h(At,2);l(Mt),l(kt),l(Ee),Ze(Ee,t=>c(A,t),()=>e(A));var $e=h(Ee,2),St=d($e),Ue=d(St),Vt=h(d(Ue),2),Tt=h(d(Vt),2),Lr=d(Tt);l(Tt),l(Vt),l(Ue);var Lt=h(Ue,2),It=d(Lt),Ir=h(It,2);l(Lt),l(St),l($e),Ze($e,t=>c(q,t),()=>e(q)),We(2),l(Ce),Q(()=>{zt(Ce,`background-image: url('${No??""}/background.png');`),X.disabled=e(m),U(Nr,`${e(x)?"Edit":"Add"} Custom Voucher`),U(Ar,`${e(x)?"Update":"Add"} Voucher`),U(Vr,`Are you sure you want to delete "${e(J),D(()=>e(J)?.code)??""}"? This
            action cannot be undone.`),U(Lr,`Are you sure you want to hide "${e(O),D(()=>e(O)?.voucherCode)??""}"? Hidden
            vouchers will reappear when you refresh the page.`)}),E("click",ut,()=>{Te(),e(_).showModal()}),E("click",X,vr),E("mousedown",X,it),E("mouseup",X,ve),E("mouseleave",X,ve),E("touchstart",X,it),E("touchend",X,ve),E("touchcancel",X,ve),E("click",Mr,()=>e(_).close()),jt(xt,()=>e(b),t=>c(b,t)),Fo(Ge,()=>e(F),t=>c(F,t)),jt(yt,()=>e(j),t=>c(j,t)),E("click",Sr,()=>e(_).close()),E("submit",Oe,Ro(function(...t){(e(x)?tr:er)?.apply(this,t)})),E("click",At,sr),E("click",Tr,ar),E("click",It,lr),E("click",Ir,ir),C(r,Ce),go()}var fa=V('<meta name="description" content="Get the latest vouchers. Save money on your food delivery orders with verified promo codes from restaurants across the Philippines."/>');function wa(r){Eo(o=>{var a=fa();wo.title="Voucher Codes",C(o,a)}),va(r,{})}export{wa as component};
