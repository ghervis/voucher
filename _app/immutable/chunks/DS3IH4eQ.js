import{i as g,j as b,k as q,E as D,l as H,H as L,m as O,n as Y,s as o,o as E,p as v,q as S,t as h,U as p,v as F,w as U,x as j,b as w,y as B,S as C}from"./DP-8aDPg.js";function P(i,t,[r,a]=[0,0]){b&&r===0&&q();var f=i,s=null,l=null,c=p,R=r>0?D:0,n=!1;const k=(e,u=!0)=>{n=!0,I(u,e)},I=(e,u)=>{if(c===(c=e))return;let A=!1;if(b&&a!==-1){if(r===0){const T=H(f);T===L?a=0:T===O?a=1/0:(a=parseInt(T.substring(1)),a!==a&&(a=c?1/0:-1))}const _=a>r;!!c===_&&(f=Y(),o(f),E(!1),A=!0,a=-1)}c?(s?v(s):u&&(s=S(()=>u(f))),l&&h(l,()=>{l=null})):(l?v(l):u&&(l=S(()=>u(f,[r+1,a]))),s&&h(s,()=>{s=null})),A&&E(!0)};g(()=>{n=!1,t(k),n||I(null,null)},R),b&&(f=F)}function N(i,t){return i===t||i?.[C]===t}function Z(i={},t,r,a){return U(()=>{var f,s;return j(()=>{f=s,s=[],w(()=>{i!==r(...s)&&(t(i,...s),f&&N(r(...f),i)&&t(null,...f))})}),()=>{B(()=>{s&&N(r(...s),i)&&t(null,...s)})}}),i}export{Z as b,P as i};
